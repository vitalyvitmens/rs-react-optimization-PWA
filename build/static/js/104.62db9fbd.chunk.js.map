{"version":3,"file":"static/js/104.62db9fbd.chunk.js","mappings":"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","sources":["webpack://rs-react-optimization-pwa/./src/components/Button/button.module.css?6dda","components/Button/Button.jsx","components/Component/Component.js","webpack://rs-react-optimization-pwa/./src/components/CustomSelect/CustomSelect.module.css?a8b1","components/CustomSelect/CustomSelect.jsx","webpack://rs-react-optimization-pwa/./src/pages/Category/Category.module.css?30e0","pages/Category/Category.jsx","hooks/useFetchCategory.js","webpack://rs-react-optimization-pwa/./src/pages/NotFound/NotFound.module.css?7579","pages/NotFound/NotFound.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"button_btn__UN5zX\"};","import styles from './button.module.css'\r\n\r\nexport const Button = ({ title, onClick, disabled, children }) => {\r\n\treturn (\r\n\t\t<button onClick={onClick} disabled={disabled} className={styles.btn}>\r\n\t\t\t{title || children}\r\n\t\t</button>\r\n\t)\r\n}\r\n","import { Suspense } from 'react'\r\n\r\nexport function Component({ component: Component, ...otherProps }) {\r\n\treturn (\r\n\t\t<Suspense fallback=\"Загрузка...\">\r\n\t\t\t<Component {...otherProps} />\r\n\t\t</Suspense>\r\n\t)\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"customSelect\":\"CustomSelect_customSelect__yfA3f\",\"lable\":\"CustomSelect_lable__lo2Pu\",\"selectField\":\"CustomSelect_selectField__CVvdY\"};","import { forwardRef } from 'react'\r\nimport styles from './CustomSelect.module.css'\r\n\r\nexport const CustomSelect = forwardRef((props, ref) => {\r\n\treturn (\r\n\t\t<div className={styles.customSelect}>\r\n\t\t\t<label className={styles.lable} htmlFor={props.id}>\r\n\t\t\t\t{props.label}\r\n\t\t\t</label>\r\n\t\t\t<select\r\n\t\t\t\tclassName={styles.selectField}\r\n\t\t\t\t{...props}\r\n\t\t\t\tref={ref}\r\n\t\t\t\tname={props.name}\r\n\t\t\t\tid={props.id}\r\n\t\t\t>\r\n\t\t\t\t<option value=\"\">Без сортировки</option>\r\n\t\t\t\t<option value=\"ASC\">По возрастанию</option>\r\n\t\t\t\t<option value=\"DESC\">По убыванию</option>\r\n\t\t\t</select>\r\n\t\t</div>\r\n\t)\r\n})\r\n","// extracted by mini-css-extract-plugin\nexport default {\"Category\":\"Category_Category__pPBPf\"};","import { useCallback, useRef, useState, useTransition } from 'react'\r\nimport { Link, useSearchParams, useNavigate } from 'react-router-dom'\r\nimport { Component } from '../../components/Component/Component'\r\nimport { Button } from '../../components/Button/Button'\r\nimport { CustomSelect } from '../../components/CustomSelect/CustomSelect'\r\nimport { NotFound } from '../../pages/NotFound/NotFound'\r\nimport { useFetchCategory } from '../../hooks/useFetchCategory'\r\nimport styles from './Category.module.css'\r\n\r\nexport const Category = () => {\r\n\tconst [searchParams, setSearchParams] = useSearchParams()\r\n\tconst sort = searchParams.get('sort')\r\n\tconst [query, setQuery] = useState('')\r\n\tconst [pageNumber, setPageNumber] = useState(1)\r\n\tconst navigate = useNavigate()\r\n\tconst [isPending, startTransition] = useTransition()\r\n\r\n\tconst { loading, error, categories, hasMore, category, id } =\r\n\t\tuseFetchCategory(query, pageNumber)\r\n\r\n\tconst lastNodeObserver = useRef()\r\n\tconst lastNodeRef = useCallback(\r\n\t\t(node) => {\r\n\t\t\tif (loading) return\r\n\r\n\t\t\tif (lastNodeObserver.current) {\r\n\t\t\t\tlastNodeObserver.current.disconnect()\r\n\t\t\t}\r\n\r\n\t\t\tlastNodeObserver.current = new IntersectionObserver((entries) => {\r\n\t\t\t\tif (entries[0].isIntersecting && hasMore) {\r\n\t\t\t\t\tsetPageNumber((prevState) => prevState + 1)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tif (node) {\r\n\t\t\t\tlastNodeObserver.current.observe(node)\r\n\t\t\t}\r\n\t\t},\r\n\t\t[hasMore, loading]\r\n\t)\r\n\r\n\tconst firstNodeObserver = useRef()\r\n\tconst firstNodeRef = useCallback(\r\n\t\t(node) => {\r\n\t\t\tif (loading) return\r\n\r\n\t\t\tif (firstNodeObserver.current) {\r\n\t\t\t\tfirstNodeObserver.current.disconnect()\r\n\t\t\t}\r\n\r\n\t\t\tfirstNodeObserver.current = new IntersectionObserver((entries) => {\r\n\t\t\t\tif (entries[0].isIntersecting) {\r\n\t\t\t\t\tsetPageNumber(1)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tif (node) {\r\n\t\t\t\tfirstNodeObserver.current.observe(node)\r\n\t\t\t}\r\n\t\t},\r\n\t\t[loading]\r\n\t)\r\n\r\n\tconst sortByCreated = (array, order) => {\r\n\t\tconst copy = [...(array || [])]\r\n\t\tcopy.sort((a, b) => {\r\n\t\t\tconst dateA = Date.parse(a.created)\r\n\t\t\tconst dateB = Date.parse(b.created)\r\n\t\t\tif (order === 'ASC') {\r\n\t\t\t\treturn dateA - dateB\r\n\t\t\t} else if (order === 'DESC') {\r\n\t\t\t\treturn dateB - dateA\r\n\t\t\t} else {\r\n\t\t\t\treturn 0\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn copy\r\n\t}\r\n\r\n\tconst handleChangeSort = (event) => {\r\n\t\tconst value = event.target.value\r\n\t\tstartTransition(() => {\r\n\t\t\tsetQuery(id)\r\n\t\t\tsetPageNumber(1)\r\n\t\t\tsetSearchParams({ sort: value })\r\n\t\t})\r\n\t}\r\n\r\n\tconst handlerScrollUp = () => {\r\n\t\twindow.scrollTo(0, 0)\r\n\t\tstartTransition(() => {})\r\n\t}\r\n\r\n\tconst isCharacter = category === 'characters'\r\n\tconst imgStyle = isCharacter && {\r\n\t\twidth: '40px',\r\n\t\theight: '40px',\r\n\t\tmargin: '1px 20px 1px 10px',\r\n\t\ttransform: 'translateY(15px)',\r\n\t\tborder: '1px solid #084949',\r\n\t\tborderRadius: '50%',\r\n\t\tboxShadow: '-4px -2px 10px black',\r\n\t}\r\n\r\n\tif (category && !['characters', 'locations', 'episodes'].includes(category)) {\r\n\t\treturn <NotFound />\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={styles.Category}>\r\n\t\t\t<form>\r\n\t\t\t\t<Component\r\n\t\t\t\t\tcomponent={CustomSelect}\r\n\t\t\t\t\tlabel=\"Сортировать по дате создания:\"\r\n\t\t\t\t\ttype=\"select\"\r\n\t\t\t\t\tid=\"select\"\r\n\t\t\t\t\tname=\"select\"\r\n\t\t\t\t\tvalue={sort || ''}\r\n\t\t\t\t\tonChange={handleChangeSort}\r\n\t\t\t\t/>\r\n\t\t\t</form>\r\n\t\t\t<ol style={{ marginLeft: '2rem' }}>\r\n\t\t\t\t{sortByCreated(categories, sort).map((item, index) => {\r\n\t\t\t\t\tif (categories.length - 17 === index + 1) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li ref={lastNodeRef} key={index}>\r\n\t\t\t\t\t\t\t\t<Link to={`/${category}/${item.id}`}>\r\n\t\t\t\t\t\t\t\t\t{isCharacter && (\r\n\t\t\t\t\t\t\t\t\t\t<img style={imgStyle} src={item.image} alt={item.name} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t} else if (index === 0) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li ref={firstNodeRef} key={index}>\r\n\t\t\t\t\t\t\t\t<Link to={`/${category}/${item.id}`}>\r\n\t\t\t\t\t\t\t\t\t{isCharacter && (\r\n\t\t\t\t\t\t\t\t\t\t<img style={imgStyle} src={item.image} alt={item.name} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li ref={lastNodeRef} key={index}>\r\n\t\t\t\t\t\t\t\t<Link to={`/${category}/${item.id}`}>\r\n\t\t\t\t\t\t\t\t\t{isCharacter && (\r\n\t\t\t\t\t\t\t\t\t\t<img style={imgStyle} src={item.image} alt={item.name} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t})}\r\n\t\t\t\t{loading && hasMore && (\r\n\t\t\t\t\t<div style={{ color: 'red', fontSize: '2rem' }}>Loading...</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{!loading && !hasMore && (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\tcolor: 'blue',\r\n\t\t\t\t\t\t\tfontSize: '2rem',\r\n\t\t\t\t\t\t\tfontWeight: '600',\r\n\t\t\t\t\t\t\ttextShadow: '-2px 2px 2px black',\r\n              marginLeft: '-60px',\r\n              gap: '10px',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tКонец списка\r\n\t\t\t\t\t\t<Component\r\n\t\t\t\t\t\t\tcomponent={Button}\r\n\t\t\t\t\t\t\ttitle=\"В начало списка\"\r\n\t\t\t\t\t\t\tdisabled={isPending}\r\n\t\t\t\t\t\t\tonClick={handlerScrollUp}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Component\r\n\t\t\t\t\t\t\tcomponent={Button}\r\n\t\t\t\t\t\t\ttitle=\"На главную\"\r\n\t\t\t\t\t\t\tdisabled={isPending}\r\n\t\t\t\t\t\t\tonClick={() => navigate('/')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{isPending && <div>Загрузка...</div>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{error && <div>Error</div>}\r\n\t\t\t</ol>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import { useEffect, useLayoutEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nexport function useFetchCategory(query, pageNumber) {\r\n\tconst [loading, setLoading] = useState(true)\r\n\tconst [error, setError] = useState(false)\r\n\tconst [categories, setCategories] = useState([])\r\n\tconst [hasMore, setHasMore] = useState(true)\r\n\tconst { category, id } = useParams()\r\n\tconst [categorySlice, setCategorySlice] = useState(category?.slice(0, -1))\r\n\r\n\tuseEffect(() => {\r\n\t\tsetCategories([])\r\n\t\tsetCategorySlice(category?.slice(0, -1))\r\n\t}, [category, query])\r\n\r\n\tuseLayoutEffect(() => {\r\n\t\tsetLoading(true)\r\n\t\tsetError(false)\r\n\r\n\t\tlet cancel\r\n\t\taxios({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: `https://rickandmortyapi.com/api/${categorySlice}`,\r\n\t\t\tparams: { q: query, page: pageNumber },\r\n\t\t\tcancelToken: new axios.CancelToken((c) => (cancel = c)),\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCategories((prevState) => {\r\n\t\t\t\t\treturn [...new Set([...prevState, ...res.data.results])]\r\n\t\t\t\t})\r\n\r\n\t\t\t\tsetHasMore(res.data.results.length > 0 && res.data.info.next !== null)\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tif (axios.isCancel(e)) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetError(false)\r\n\t\t\t\tconsole.error(e)\r\n\t\t\t})\r\n\r\n\t\treturn () => cancel()\r\n\t}, [category, categorySlice, pageNumber, query])\r\n\r\n\treturn {\r\n\t\tloading,\r\n\t\terror,\r\n\t\tcategories,\r\n\t\thasMore,\r\n\t\tcategory,\r\n\t\tid,\r\n\t}\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"NotFound\":\"NotFound_NotFound__8s3em\",\"center\":\"NotFound_center__qfCRu\"};","import { Link } from 'react-router-dom'\r\nimport styles from './NotFound.module.css'\r\n\r\nexport const NotFound = () => {\r\n\treturn (\r\n\t\t<div className={styles.NotFound}>\r\n\t\t\t<h1>Страница не найдена</h1>\r\n\t\t\t<p>Извините, но запрашиваемая вами страница не существует.</p>\r\n\t\t\t<p>\r\n\t\t\t\tПожалуйста, проверьте правильность введенного адреса или перейдите на\r\n\t\t\t\tглавную страницу.\r\n\t\t\t</p>\r\n\t\t\t<div className={styles.center}>\r\n\t\t\t\t<Link to=\"/\">Перейти на главную страницу</Link>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n"],"names":["Button","_ref","title","onClick","disabled","children","_jsx","className","styles","Component","component","otherProps","Suspense","fallback","CustomSelect","forwardRef","props","ref","_jsxs","htmlFor","id","label","name","value","Category","searchParams","setSearchParams","useSearchParams","sort","get","query","setQuery","useState","pageNumber","setPageNumber","navigate","useNavigate","isPending","startTransition","useTransition","loading","error","categories","hasMore","category","setLoading","setError","setCategories","setHasMore","useParams","categorySlice","setCategorySlice","slice","useEffect","useLayoutEffect","cancel","axios","method","url","concat","params","q","page","cancelToken","CancelToken","c","then","res","prevState","Set","data","results","length","info","next","catch","e","isCancel","console","useFetchCategory","lastNodeObserver","useRef","lastNodeRef","useCallback","node","current","disconnect","IntersectionObserver","entries","isIntersecting","observe","firstNodeObserver","firstNodeRef","isCharacter","imgStyle","width","height","margin","transform","border","borderRadius","boxShadow","includes","NotFound","type","onChange","event","target","style","marginLeft","sortByCreated","array","order","copy","a","b","dateA","Date","parse","created","dateB","map","item","index","Link","to","src","image","alt","color","fontSize","display","fontWeight","textShadow","gap","handlerScrollUp","window","scrollTo"],"sourceRoot":""}